{"remainingRequest":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yukimuramanase/Desktop/TeamC-app/src/views/Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yukimuramanase/Desktop/TeamC-app/src/views/Cart.vue","mtime":1629682667808},{"path":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwQWN0aW9uc30gZnJvbSAndnVleCcKICBleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBoZWFkZXJzOlsKICAgICAgICAgICAgICAgIHt0ZXh0OiLllYblk4HlkI0iLHZhbHVlOiJjYXJ0SXRlbUxpc3RbXS5uYW1lIn0sCiAgICAgICAgICAgICAgICB7dGV4dDoi44K144Kk44K6Iix2YWx1ZToic2l6ZSJ9LAogICAgICAgICAgICAgICAge3RleHQ6IuaVsOmHjyIsdmFsdWU6Im51bWJlciJ9LAogICAgICAgICAgICAgICAge3RleHQ6IuODiOODg+ODlOODs+OCsCIsdmFsdWU6InRvcHBpbmcifSwKICAgICAgICAgICAgICAgIHt0ZXh0OiLlsI/oqIgo56iO5oqcKSIsdmFsdWU6InRvdGFsIn0sCiAgICAgICAgICAgICAgICB7dGV4dDoi5YmK6ZmkIix2YWx1ZToiZGVsZXRlIn0gICAgICAgICAgIAogICAgICAgICAgICBdLAogICAgICAgICAgICBjYXJ0czpbXSwKICAgICAgICAgICAgY2FydE9iamVjdDp7fQogICAgICAgICAgfQogICAgICB9LAogICAgbWV0aG9kczp7IAogICAgICAgIGRlbGV0ZUNvbmZpcm0oaW5kZXgpewogICAgICAgICAgICBpZihjb25maXJtKCLliYrpmaTjgZfjgabjgoLjgojjgo3jgZfjgYTjgafjgZnjgYvvvJ8iKSl7CiAgICAgICAgICAgICAgICB0aGlzLmNhcnRzWzBdLmNhcnRJdGVtTGlzdC5zcGxpY2UoaW5kZXgsMSkKICAgICAgICAgICAgICAgIHRoaXMuY2FydE9iamVjdCA9IHRoaXMuY2FydHNbMF0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ2FydEl0ZW0oewogICAgICAgICAgICAgICAgICAgIGNhcnQ6dGhpcy5jYXJ0T2JqZWN0CiAgICAgICAgICAgICAgICAgICAgfSkgICAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2hlY2tPckxvZ2luKCl7CiAgICAgICAgICAgIGlmKHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luX3VzZXIpewogICAgICAgICAgICAgICAgdGhpcy5hZGRPcmRlckxpc3QodGhpcy5jYXJ0cykKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiJDaGVjayJ9KQogICAgICAgICAgICB9ZWxzZSBpZighdGhpcy4kc3RvcmUuc3RhdGUubG9naW5fdXNlcil7CiAgICAgICAgICAgICAgICB0aGlzLmFkZE9yZGVyTGlzdCh0aGlzLmNhcnRzKQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6IkNoZWNrIn0pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHRvdGFsVGF4KCl7CiAgICAgICAgICAgIGxldCB0b3RhbCA9IFtdCiAgICAgICAgICAgIHRoaXMuY2FydHNbMF0uY2FydEl0ZW1MaXN0LmZvckVhY2goZWxlID0+IHsKICAgICAgICAgICAgICAgIHRvdGFsLnB1c2goZWxlLnRvdGFsICogMC4xKQogICAgICAgICAgICB9KQogICAgICAgICAgICBsZXQgdG90YWxUYXggPXRvdGFsLnJlZHVjZSgoc3VtLGVsZW1lbnQpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBzdW0gKyBlbGVtZW50OwogICAgICAgICAgICB9LDApCiAgICAgICAgICAgIHJldHVybiB0b3RhbFRheAogICAgICAgIH0sCiAgICAgICAgdG90YWwoKXsKICAgICAgICAgICAgbGV0IHRvdGFsID0gW10KICAgICAgICAgICAgdGhpcy5jYXJ0c1swXS5jYXJ0SXRlbUxpc3QuZm9yRWFjaChlbGUgPT4gewogICAgICAgICAgICB0b3RhbC5wdXNoKGVsZS50b3RhbCAqIDEuMSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgbGV0IHRvdGFscyA9IHRvdGFsLnJlZHVjZSgoc3VtLGVsZW1lbnQpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBzdW0gKyBlbGVtZW50OwogICAgICAgICAgICB9LDApCiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRvdGFscykKICAgICAgICB9LAogICAgICAgIC4uLm1hcEFjdGlvbnMoWydkZWxldGVDYXJ0SXRlbScsJ2xvZ2luJywnYWRkT3JkZXJMaXN0J10pCiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIHRoaXMuY2FydHMucHVzaCh0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0bGlzdCkKICAgIH0sCiAgICAgIH0K"},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cart.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<v-app class='cartinside'>\n <v-container text-xs-center justify-center >\n        <v-layout row wrap>\n            <v-flex xs12>\n                <h1>ショッピングカート</h1>\n                <div v-if=\"!carts[0].cartItemList.length\">カートに商品がありません</div>\n            </v-flex>\n            \n        <table v-if=\"carts[0].cartItemList.length\">\n            <thead>\n                <tr>\n                    <th class='table-head'>商品名</th>\n                    <th class='table-head'>サイズ</th>\n                    <th class='table-head'>数量</th>\n                    <th class='table-head'>トッピング</th>\n                    <th class='table-head'>小計(税抜)</th>\n                    <th class='table-head'>削除</th>\n                </tr>\n            </thead>\n            <tbody v-for=\"(item, index) in carts\" :key=\"index\" border=\"2\">\n                <tr v-for=\"(item1, index) in item.cartItemList\" :key=\"index\" >\n                    <td class='table-body'>\n                        <div>{{item1.name}}</div>\n\n                        <img :src=\"item1.pic\" class=\"img\">\n                    </td>\n                    <td class='table-body'>{{item1.size}}</td>\n                    <td class='table-body'>{{item1.number}}個</td>\n                    <td class='table-body'><div v-for=\"(item2, index) in item1.topping\" :key=\"index\">{{item2}}</div></td>\n                    <td class='table-body'>{{item1.total}}円</td>\n                    <td class='table-body'><button @click=\"deleteConfirm(index)\" class='btnDig'>削除</button></td>\n\n                </tr>\n            </tbody>\n        </table>\n\n        </v-layout>\n        \n\n    </v-container>\n    <template v-if=\"carts[0].cartItemList.length\">\n        <div>消費税：{{totalTax()}}円</div>\n        <div>ご注文金額合計：{{total()}}円(税込)</div>\n        <button @click=\"checkOrLogin()\" class='btnDig'>注文に進む</button> \n        <p></p>\n    </template>\n</v-app>\n</template>\n\n\n<script>\nimport {mapActions} from 'vuex'\n  export default {\n    data(){\n        return{\n            headers:[\n                {text:\"商品名\",value:\"cartItemList[].name\"},\n                {text:\"サイズ\",value:\"size\"},\n                {text:\"数量\",value:\"number\"},\n                {text:\"トッピング\",value:\"topping\"},\n                {text:\"小計(税抜)\",value:\"total\"},\n                {text:\"削除\",value:\"delete\"}           \n            ],\n            carts:[],\n            cartObject:{}\n          }\n      },\n    methods:{ \n        deleteConfirm(index){\n            if(confirm(\"削除してもよろしいですか？\")){\n                this.carts[0].cartItemList.splice(index,1)\n                this.cartObject = this.carts[0]\n                this.deleteCartItem({\n                    cart:this.cartObject\n                    })   \n            }\n        },\n        checkOrLogin(){\n            if(this.$store.state.login_user){\n                this.addOrderList(this.carts)\n                this.$router.push({name:\"Check\"})\n            }else if(!this.$store.state.login_user){\n                this.addOrderList(this.carts)\n                this.$router.push({name:\"Check\"})\n            }\n        },\n        totalTax(){\n            let total = []\n            this.carts[0].cartItemList.forEach(ele => {\n                total.push(ele.total * 0.1)\n            })\n            let totalTax =total.reduce((sum,element) => {\n                return sum + element;\n            },0)\n            return totalTax\n        },\n        total(){\n            let total = []\n            this.carts[0].cartItemList.forEach(ele => {\n            total.push(ele.total * 1.1)\n            })\n            let totals = total.reduce((sum,element) => {\n                return sum + element;\n            },0)\n            return Math.floor(totals)\n        },\n        ...mapActions(['deleteCartItem','login','addOrderList'])\n    },\n    created(){\n        this.carts.push(this.$store.state.cartlist)\n    },\n      }\n</script>\n\n\n<style>\n    .img {\n        width: 200px;\n        height: 140px;\n    }\n    .cartinside{\n  font-family: 'Hannotate TC',sans-serif;;\n  font-weight: 800;\n  align-items: center;\n  justify-content: center;\n  margin: 0 2em;\n}\n.table-head {\n  width: auto;\n  padding: 10px 0;\nbackground-color:  rgb(250, 218, 131);\n}\n\n.table-body {\n    text-align: center;\n  width: auto;\n  padding: 10px 0;\nborder-bottom: solid 1px rgb(250, 218, 131);\nborder-top: solid 1px rgb(250, 218, 131);\n  border-collapse: separate;\n}\n</style>\n"]}]}