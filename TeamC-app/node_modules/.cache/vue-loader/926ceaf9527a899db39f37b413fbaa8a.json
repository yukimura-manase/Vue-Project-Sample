{"remainingRequest":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yukimuramanase/Desktop/TeamC-app/src/views/Check.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/yukimuramanase/Desktop/TeamC-app/src/views/Check.vue","mtime":1629682667808},{"path":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukimuramanase/Desktop/TeamC-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5tZXNzYWdlIHsKICBjb2xvcjogcmVkOwp9CiNDaGVja3sKICBmb250LWZhbWlseTogJ0hhbm5vdGF0ZSBUQycsc2Fucy1zZXJpZjs7CiAgZm9udC13ZWlnaHQ6IDgwMDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIG1hcmdpbjogMCAyZW07Cn0KCmgzewogIGJhY2tncm91bmQtY29sb3I6IGRhcmtvcmFuZ2U7CiAgbWFyZ2luLXRvcDogMmVtOyAKICB3aWR0aDozNTBweDsKICBib3JkZXItYm90dG9tOiBzb2xpZCA2cHggI0YyQkYxODsKICB2ZXJ0aWNhbC1hbGlnbjogdG9wOyAKICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxMHB4OwogIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAzMHB4OwogIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxMHB4OwogIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDMwcHg7CiAgY29sb3I6d2hpdGUKfQoKI2NvbmZpcm17ICAKICAgIHBhZGRpbmc6IDAuNWVtIDFlbTsKICAgIG1hcmdpbjogMmVtIDA7CiAgICBiYWNrZ3JvdW5kOiNGMkJGMTg7CiAgICBib3JkZXItYm90dG9tOiBzb2xpZCA2cHggcmdiKDI1NSwgMTQwLCAwKTsKICAgIGJvcmRlci1yYWRpdXM6IDlweDsKICAgIHdpZHRoOjI1MHB4OwogICAgaGVpZ2h0OjYwcHg7CiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7Cn0KI2NvbmZpcm06YWN0aXZlewogIHRvcDoxMHB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBib3gtc2hhZG93OiBub25lOwogIGJhY2tncm91bmQtY29sb3I6ICNGMkJGMTg7Cn0KLmNvbmZpcm0tdGFibGV7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgbWFyZ2luLXJpZ2h0OiBhdXRvOwogIG1hcmdpbi10b3A6IDIwcHg7CiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKICB3aWR0aDogNjAwcHg7CiAgYm9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlOwogIGJvcmRlci1zcGFjaW5nOiAwOwogIGJvcmRlci1yYWRpdXM6IDRweDsKfQppbnB1dDpjaGVja2VkICsgbGFiZWx7CiAgY29sb3I6IHJlZDsKfQoK"},{"version":3,"sources":["Check.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Check.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"Check\">\n    <h1>注文内容確認</h1>\n\n    <!-- <table  v-if=\"this.customerInfo.cartItemList.length\" id='confirm-table'> -->\n      <table>\n      <thead>\n      <tr>\n        <th class='table-head'>商品名</th>\n        <th class='table-head'>サイズ</th>\n        <th class='table-head'>数量</th>\n        <th class='table-head'>トッピング</th>\n        <th class='table-head'>小計</th>\n      </tr>\n      </thead>\n\n      <tbody v-for=\"(item, index) in customerInfo.cartItemList\" :key=\"index\">\n        <tr>\n            <td class='table-body'><img :src=\"item.pic\" class=\"img\">\n              <div>{{item.name}}</div>\n            </td>\n            <td class='table-body'>{{item.size}}</td>\n            <td class='table-body'>{{item.number}}個</td>\n            <td class='table-body'><div v-for=\"(item1, index) in item.topping\" :key=\"index\">{{item1}}</div></td>\n            <td class='table-body'>{{item.total}}円</td>\n       </tr>\n      </tbody>\n    </table>\n    <div>消費税:{{totalTax()}}円</div>\n    <div id='total'>ご注文合計金額:{{total()}}円</div>\n    <p></p>\n    <div class='explain'>ご注文内容をご確認の上お届け先情報とお支払い方法を入力してください</div>\n    <h3>&nbsp;&nbsp;<img src=\"../../public/pic/home.png\" width=30px; height=30px>お届け先情報</h3>\n    <table>\n\n      <tr>\n        <td class='table-head'>お名前</td>\n        <td class='table-body'>\n          <div class=\"message\" v-if=\"!customerInfo.userName\">\n            {{ errorText.name }}\n          </div>\n          <input type=\"text\" name=\"name\" placeholder=\"ラクス太郎\" v-model=\"customerInfo.userName\"/>\n        </td>\n      </tr>\n      <tr>\n        <td class='table-head'>メールアドレス</td>\n        <td class='table-body'>\n          <div class=\"message\" v-if=\"!customerInfo.mailAddress\">\n            {{ errorText.email }}\n          </div>\n          <div class=\"message\" v-if=\"(!this.email.test(customerInfo.mailAddress))&&customerInfo.mailAddress\">\n            {{ errorText.email }}\n          </div>\n          <input type=\"text\" name=\"email\" placeholder=\"xxx@example.co.jp\" v-model=\"customerInfo.mailAddress\"/>\n        </td>\n      </tr>\n      <tr>\n        <td class='table-head'>郵便番号</td>\n        <td class='table-body'>\n          <div class=\"message\" v-if=\"!customerInfo.addressNumber\">\n            {{ errorText.addressnum }}\n          </div>\n          <div class=\"message\" v-if=\"(!this.addressnum.test(customerInfo.addressNumber))&&customerInfo.addressNumber\">\n            {{ errorText.addressnum }}\n          </div>\n          <input type=\"text\" name=\"addressnum\" placeholder=\"xxx-xxxx\" v-model=\"customerInfo.addressNumber\"/>\n          <button>住所検索</button>\n        </td>\n      </tr>\n      <tr>\n        <td class='table-head'>住所</td>\n        <td class='table-body'>\n          <div class=\"message\" v-if=\"!customerInfo.address\">\n            {{ errorText.address }}\n          </div>\n          <input type=\"text\" name=\"address\" placeholder=\"〇〇県〇〇市〇〇番地\" v-model=\"customerInfo.address\"/>\n        </td>\n      </tr>\n      <tr>\n        <td class='table-head'>電話番号</td>\n        <td class='table-body'>\n          <div class=\"message\" v-if=\"!customerInfo.phoneNumber\">\n            {{ errorText.tel }}\n          </div>\n          <div class=\"message\" v-if=\"(!this.tel.test(customerInfo.phoneNumber))&&customerInfo.phoneNumber\">\n            {{ errorText.tel }}\n          </div>\n          <input type=\"text\" name=\"tel\" placeholder=\"xxx-xxxx-xxxx\" v-model=\"customerInfo.phoneNumber\"/>\n        </td>\n      </tr>\n      <tr>\n        <td class='table-head'>配達日時</td>\n        <td class='table-body'>\n          <div class=\"message\" v-if=\"!customerInfo.deliveryDate\">\n            {{ errorText.date }}\n          </div>\n          <div class=\"message\" v-if=\"customerInfo.deliveryDate&&selectDay<today\">\n            {{ errorText.date }}\n          </div>\n          <div>\n            <input type=\"date\" name=\"date\" v-model=\"customerInfo.deliveryDate\" />\n          </div>\n          <div>\n            <div class=\"message\" v-if=\"!customerInfo.deliveryTime\">\n              {{ errorText.time }}\n            </div>\n            <div class=\"message\" v-if=\"(customerInfo.deliveryTime<hour+3)&&customerInfo.deliveryTime\">\n              {{ errorText.time }}\n            </div>\n            <input type=\"radio\" name=\"time\" value=\"10\" style=\"display:inline\" v-model=\"customerInfo.deliveryTime\"/>10時\n            <input type=\"radio\" name=\"time\" value=\"11\" style=\"display:inline\" v-model=\"customerInfo.deliveryTime\"/>11時\n            <input type=\"radio\" name=\"time\" value=\"12\" style=\"display:inline\" v-model=\"customerInfo.deliveryTime\"/>12時\n          </div>\n          <div>\n            <input type=\"radio\" name=\"time\" value=\"13\" style=\"display:inline\" v-model=\"customerInfo.deliveryTime\"/>13時\n            <input type=\"radio\" name=\"time\" value=\"14\" style=\"display:inline\" v-model=\"customerInfo.deliveryTime\"/>14時\n            <input type=\"radio\" name=\"time\" value=\"15\" style=\"display:inline\" v-model=\"customerInfo.deliveryTime\"/>15時\n          </div>\n          <div>\n            <input type=\"radio\" name=\"time\" value=\"16\" style=\"display:inline\" v-model=\"customerInfo.deliveryTime\"/>16時\n            <input type=\"radio\" name=\"time\" value=\"17\" style=\"display:inline\" v-model=\"customerInfo.deliveryTime\"/>17時\n            <input type=\"radio\" name=\"time\" value=\"18\" style=\"display:inline\" v-model=\"customerInfo.deliveryTime\"/>18時\n          </div>\n        </td>\n      </tr>\n    </table>\n    <h3>&nbsp;&nbsp;<img src=\"../../public/pic/money.png\" width=30px; height=30px>お支払い方法</h3>\n    <div class=\"message\" v-if=\"!customerInfo.status\">\n      {{ errorText.status }}\n    </div>\n    <table id='confirm-table'>\n      <tr>\n        <td class='table-head'>代金引換</td>\n        <td class='table-body'>\n          <input type=\"radio\" name=\"pay\" id='hikikae' value=\"1\" style=\"display:inline\" v-model=\"customerInfo.status\"/><label for='hikikae'>代金引換</label>\n        </td>\n      </tr>\n      <tr>\n        <td class='table-head'>クレジットカード決済</td>\n        <td class='table-body'>\n          <input type=\"radio\" name=\"pay\" id='cc' value=\"2\" style=\"display:inline\" v-model=\"customerInfo.status\"/><label for='cc'>クレジットカード</label>\n        </td>\n      </tr>\n    </table>\n    <p></p>\n    <button @click=\"checkInfo()\" id='confirm'><img src=\"../../public/pic/cart_green_mini.png\" width=40px; height=40px>この内容で注文する</button>\n    <!-- <div>{{ customerInfo }}</div> -->\n  </div>\n</template>\n\n<script>\nimport {mapActions} from 'vuex'\nexport default {\n  name: \"Check\",\n  data() {\n    return {\n      customerInfo: \"\",\n      errorText: {\n        name: \"\",\n        email: \"\",\n        addressnum: \"\",\n        address: \"\",\n        tel: \"\",\n        date: \"\",\n        time: \"\",\n        status: \"\",\n      },\n      addressnum : /^[0-9]{3}-[0-9]{4}$/,\n      email:/^[a-zA-Z0-9]+[a-zA-Z0-9._-]*@[a-zA-Z0-9_-]+[a-zA-Z0-9._-]+$/,\n      tel:/^[0-9]{3}-[0-9]{4}-[0-9]{4}$/,\n\n      hour:12,\n      // hour:new Date().getHours()\n    };\n  },\n  created() {\n    this.customerInfo = this.$store.state.orderList[0];\n  },\n  computed:{\n    selectDay(){\n      return Number(`${new Date(this.customerInfo.deliveryDate).getFullYear()}`+`${new Date(this.customerInfo.deliveryDate).getMonth()+1}`+`${new Date(this.customerInfo.deliveryDate).getDate()}`)\n    },\n    today(){\n      return Number(`${new Date().getFullYear()}`+`${new Date().getMonth()+1}`+`${new Date().getDate()}`)\n    }\n  },\n  methods: {\n            totalTax(){\n            let total = []\n            this.customerInfo.cartItemList.forEach(ele => {\n              total.push(ele.total * 0.1)\n            });\n            let totalTax =total.reduce((sum,element) => {\n                return sum + element;\n            },0)\n            return totalTax\n        },\n        total(){\n            let total = []\n            this.customerInfo.cartItemList.forEach(ele => {\n              total.push(ele.total *1.1)\n            })\n            let totals = total.reduce((sum,element) => {\n                return sum + element;\n            },0)\n            return Math.floor(totals)\n        },\n    checkInfo() {\n      if (!this.customerInfo.userName) {\n        this.errorText.name = \"お名前を入力して下さい\";\n      } else {\n        delete this.errorText.name;\n      }\n\n      if (!this.customerInfo.mailAddress) {\n        this.errorText.email = \"メールアドレスを入力して下さい\";\n      } else {\n        if (this.email.test(this.customerInfo.mailAddress)) {\n          delete this.errorText.email;\n        } else {\n          this.errorText.email = \"メールアドレスの形式が不正です\";\n        }\n      }\n\n      if (!this.customerInfo.addressNumber) {\n        this.errorText.addressnum = \"郵便番号を入力して下さい\";\n      } else{\n        if (this.addressnum.test(this.customerInfo.addressNumber)) {\n          delete this.errorText.addressnum;\n        } else {\n          this.errorText.addressnum = \"郵便番号の形式が不正です\";\n        }\n      }\n\n      if (!this.customerInfo.address) {\n        this.errorText.address = \"住所を入力して下さい\";\n      } else {\n        delete this.errorText.address;\n      }\n\n      if (!this.customerInfo.phoneNumber) {\n        this.errorText.tel = \"電話番号を入力して下さい\";\n      } else{\n        if (this.tel.test(this.customerInfo.phoneNumber)) {\n          delete this.errorText.tel;\n        } else {\n          this.errorText.tel = \"電話番号の形式が不正です\";\n        }\n      }\n\n      if (!this.customerInfo.deliveryDate) {\n        this.errorText.date = \"配達日時を入力して下さい\";\n      } else if(this.customerInfo.deliveryDate&&this.selectDay<this.today){\n        this.errorText.date = \"今日以降の日付を入力して下さい\";\n      } else {\n        delete this.errorText.date;\n        if (!this.customerInfo.deliveryTime) {\n          this.errorText.time = \"配達時間を指定して下さい\";\n        } else if(this.customerInfo.deliveryTime&&(this.customerInfo.deliveryTime<this.hour||this.customerInfo.deliveryTime<this.hour+3)){\n          this.errorText.time = \"現在から3時間以降を指定して下さい\";\n        } else{\n          delete this.errorText.time;\n        }\n          }\n      \n      if (!this.customerInfo.status) {\n        this.errorText.status = \"お支払い方法を選択して下さい\";\n      } else {\n        delete this.errorText.status;\n      }\n\n      if (Object.keys(this.errorText).length) {\n        return;\n      } else {\n        if(this.$store.state.login_user){\n        this.customerInfo.orderDate=`${new Date().getFullYear()}年${new Date().getMonth()+1}月${new Date().getDate()}日`\n        this.addCustomerInfo(this.customerInfo);\n        this.$router.push({ name: \"Done\" });\n        } else{\n          this.login()\n        }\n      }\n    },\n    ...mapActions(['addCustomerInfo','setCart','login'])\n  },\n};\n</script>\n\n<style>\n.message {\n  color: red;\n}\n#Check{\n  font-family: 'Hannotate TC',sans-serif;;\n  font-weight: 800;\n  align-items: center;\n  justify-content: center;\n  margin: 0 2em;\n}\n\nh3{\n  background-color: darkorange;\n  margin-top: 2em; \n  width:350px;\n  border-bottom: solid 6px #F2BF18;\n  vertical-align: top; \n  border-top-left-radius: 10px;\n  border-top-right-radius: 30px;\n  border-bottom-right-radius: 10px;\n  border-bottom-left-radius: 30px;\n  color:white\n}\n\n#confirm{  \n    padding: 0.5em 1em;\n    margin: 2em 0;\n    background:#F2BF18;\n    border-bottom: solid 6px rgb(255, 140, 0);\n    border-radius: 9px;\n    width:250px;\n    height:60px;\n    align-items: flex-end;\n}\n#confirm:active{\n  top:10px;\n  position: relative;\n  box-shadow: none;\n  background-color: #F2BF18;\n}\n.confirm-table{\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 20px;\n  border-collapse: collapse;\n  width: 600px;\n  border-collapse:separate;\n  border-spacing: 0;\n  border-radius: 4px;\n}\ninput:checked + label{\n  color: red;\n}\n\n</style>"]}]}